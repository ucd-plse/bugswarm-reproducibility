travis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: java
Build group: stable
Build dist: precise
Build id: ''
Job id: ''
[34m[1mBuild image provisioning date and time[0m
Thu Feb  5 15:09:33 UTC 2015
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 12.04.5 LTS
Release:	12.04
Codename:	precise
[34m[1mLinux Version[0m
3.13.0-29-generic
[34m[1mCookbooks Version[0m
a68419e https://github.com/travis-ci/travis-cookbooks/tree/a68419e
[34m[1mGCC version[0m
gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mLLVM version[0m
clang version 3.4 (tags/RELEASE_34/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
[34m[1mPre-installed Ruby versions[0m
ruby-1.9.3-p551
[34m[1mPre-installed Node.js versions[0m
v0.10.36
[34m[1mPre-installed Go versions[0m
1.4.1
[34m[1mRedis version[0m
redis-server 2.8.19
[34m[1mriak version[0m
2.0.2
[34m[1mMongoDB version[0m
MongoDB 2.4.12
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mNeo4j version[0m
1.9.4
[34m[1mRabbitMQ Version[0m
3.4.3
[34m[1mElasticSearch version[0m
1.4.0
[34m[1mInstalled Sphinx versions[0m
2.0.10
2.1.9
2.2.6
[34m[1mDefault Sphinx version[0m
2.2.6
[34m[1mInstalled Firefox version[0m
firefox 31.0esr
[34m[1mPhantomJS version[0m
1.9.8
[34m[1mant -version[0m
Apache Ant(TM) version 1.8.2 compiled on December 3 2011
[34m[1mmvn -version[0m
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.7.0_76, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-oracle/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: "linux", version: "3.13.0-29-generic", arch: "amd64", family: "unix"
travis_fold:end:system_info[0K
W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/main/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/restricted/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/universe/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/multiverse/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/main/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/restricted/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/universe/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/multiverse/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/main/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/restricted/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/universe/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise/multiverse/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/main/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/restricted/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/universe/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/multiverse/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/main/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/restricted/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/universe/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/multiverse/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/main/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/restricted/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/universe/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-updates/multiverse/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/main/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/restricted/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/universe/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/multiverse/source/Sources  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/main/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/restricted/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/universe/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/multiverse/binary-amd64/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/main/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/restricted/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/universe/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/multiverse/binary-i386/Packages  404  Not Found [IP: 91.189.91.38 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/main/source/Sources  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/restricted/source/Sources  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/universe/source/Sources  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/multiverse/source/Sources  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/main/binary-amd64/Packages  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/restricted/binary-amd64/Packages  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/universe/binary-amd64/Packages  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/multiverse/binary-amd64/Packages  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/main/binary-i386/Packages  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/restricted/binary-i386/Packages  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/universe/binary-i386/Packages  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://security.ubuntu.com/ubuntu/dists/precise-security/multiverse/binary-i386/Packages  404  Not Found [IP: 91.189.88.152 80]

W: Failed to fetch http://apt.postgresql.org/pub/repos/apt/dists/precise-pgdg/main/binary-amd64/Packages  404  Not Found [IP: 217.196.149.55 80]

W: Failed to fetch http://apt.postgresql.org/pub/repos/apt/dists/precise-pgdg/main/binary-i386/Packages  404  Not Found [IP: 217.196.149.55 80]

W: Failed to fetch http://ppa.launchpad.net/rwky/ppa/ubuntu/dists/precise/main/binary-amd64/Packages  403  Forbidden

W: Failed to fetch http://ppa.launchpad.net/rwky/ppa/ubuntu/dists/precise/main/binary-i386/Packages  403  Forbidden

W: Failed to fetch http://ppa.launchpad.net/travis-ci/zero-mq/ubuntu/dists/precise/main/binary-amd64/Packages  403  Forbidden

W: Failed to fetch http://ppa.launchpad.net/travis-ci/zero-mq/ubuntu/dists/precise/main/binary-i386/Packages  403  Forbidden

W: Failed to fetch http://downloads-distro.mongodb.org/repo/debian-sysvinit/dists/dist/10gen/binary-amd64/Packages  Undetermined Error [IP: 54.175.147.155 80]

W: Failed to fetch http://downloads-distro.mongodb.org/repo/debian-sysvinit/dists/dist/10gen/binary-i386/Packages  Undetermined Error [IP: 54.175.147.155 80]

E: Some index files failed to download. They have been ignored, or old ones used instead.
sed: cannot rename /etc/hosts: Device or resource busy
sed: cannot rename /etc/hosts: Device or resource busy
$ jdk_switcher use oraclejdk8
Switching to Oracle JDK8 (java-8-oracle), JAVA_HOME will be set to /usr/lib/jvm/java-8-oracle
$ cd failed/petergeneric/stdlib

[33;1mSetting environment variables from .travis.yml[0m
$ export COVERITY_SCAN_TOKEN=[secure]

travis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=$HOME/.casher
travis_time:start:181d8246[0K
travis_time:end:181d8246:start=1642603811984589315,finish=1642603811992268060,duration=7678745[0Ktravis_time:start:0d0dd657[0K/home/travis/.casher/bin/casher:213:in `cache_archive_name': undefined method `[]' for nil:NilClass (NoMethodError)
	from /home/travis/.casher/bin/casher:65:in `block in fetch'
	from /home/travis/.casher/bin/casher:64:in `each'
	from /home/travis/.casher/bin/casher:64:in `fetch'
	from /home/travis/.casher/bin/casher:53:in `block in run'
	from /home/travis/.rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/timeout.rb:69:in `timeout'
	from /home/travis/.casher/bin/casher:53:in `run'
	from /home/travis/.casher/bin/casher:263:in `<main>'
[32;1mattempting to download cache archive[0m

travis_time:end:0d0dd657:start=1642603812001852536,finish=1642603812727881593,duration=726029057[0Ktravis_time:start:0c42633c[0K
travis_time:end:0c42633c:start=1642603812737273020,finish=1642603812744106741,duration=6833721[0Ktravis_time:start:0059e392[0K[32;1madding /home/travis/.m2 to cache[0m

travis_time:end:0059e392:start=1642603812753865734,finish=1642603813778215671,duration=1024349937[0Ktravis_fold:end:cache.1[0K$ java -Xmx32m -version
java version "1.8.0_31"
Java(TM) SE Runtime Environment (build 1.8.0_31-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)
$ javac -J-Xmx32m -version
javac 1.8.0_31
travis_fold:start:install[0Ktravis_time:start:26856258[0K$ mvn -o install -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -DskipTests=true -Dmaven.javadoc.skip=true -B -V
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T17:29:23+00:00)
Maven home: /usr/local/maven
Java version: 1.8.0_31, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.15.0-109-generic", arch: "amd64", family: "unix"
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 22 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 22 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] service-manager
[INFO] Configuration Service
[INFO] Service Manager API
[INFO] stdlib-rules
[INFO] stdlib-azure
[INFO] Service Manager Main
[INFO] Host Agent
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] maven is executed in offline mode, Updating project files from SCM: skipped.
[INFO] Executing: /bin/sh -c cd /home/travis/build/failed/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/failed/petergeneric/stdlib
[INFO] Storing buildNumber: b63a6a839e276ac66a45b4e114894fb20cd7fa00 at timestamp: 1642603845438
[INFO] Storing buildScmBranch: master
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-parent ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-parent/9.2.4-SNAPSHOT/stdlib-parent-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/stdlib/target/stdlib-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.2.4-SNAPSHOT/stdlib-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/stdlib/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib/9.2.4-SNAPSHOT/stdlib-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-parent ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-parent/9.2.4-SNAPSHOT/stdlib-guice-parent-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-common ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/common/target/stdlib-guice-common-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.2.4-SNAPSHOT/stdlib-guice-common-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/common/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-common/9.2.4-SNAPSHOT/stdlib-guice-common-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-parent ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/user-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-parent/9.2.4-SNAPSHOT/user-manager-parent-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ user-manager-api ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager-api ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/user-manager/api/target/user-manager-api-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.2.4-SNAPSHOT/user-manager-api-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/user-manager/api/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager-api/9.2.4-SNAPSHOT/user-manager-api-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-webapp ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/webapp/target/stdlib-guice-webapp-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.2.4-SNAPSHOT/stdlib-guice-webapp-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/webapp/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-webapp/9.2.4-SNAPSHOT/stdlib-guice-webapp-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-metrics ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/metrics/target/stdlib-guice-metrics-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.2.4-SNAPSHOT/stdlib-guice-metrics-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/metrics/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-metrics/9.2.4-SNAPSHOT/stdlib-guice-metrics-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-freemarker ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/target/stdlib-guice-freemarker-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.2.4-SNAPSHOT/stdlib-guice-freemarker-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-freemarker/9.2.4-SNAPSHOT/stdlib-guice-freemarker-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-testing ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/testing/target/stdlib-guice-testing-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.2.4-SNAPSHOT/stdlib-guice-testing-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-testing/9.2.4-SNAPSHOT/stdlib-guice-testing-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/stdlib-guice-hibernate-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.2.4-SNAPSHOT/stdlib-guice-hibernate-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/hibernate/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate/9.2.4-SNAPSHOT/stdlib-guice-hibernate-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate testing support 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate-testing ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-hibernate-testing ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-hibernate-testing ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/hibernate-testing/target/stdlib-guice-hibernate-testing-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.2.4-SNAPSHOT/stdlib-guice-hibernate-testing-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/hibernate-testing/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-hibernate-testing/9.2.4-SNAPSHOT/stdlib-guice-hibernate-testing-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice liquibase support 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-liquibase ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-liquibase ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-liquibase ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-guice-liquibase ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-guice-liquibase ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/liquibase/target/stdlib-guice-liquibase-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.2.4-SNAPSHOT/stdlib-guice-liquibase-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/guice/liquibase/pom.xml to /home/travis/.m2/repository/com/peterphi/std/guice/stdlib-guice-liquibase/9.2.4-SNAPSHOT/stdlib-guice-liquibase-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building carbon client 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ carbon-client ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ carbon-client ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ carbon-client ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ carbon-client ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ carbon-client ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ carbon-client ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ carbon-client ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/util/carbon-client/target/carbon-client-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.2.4-SNAPSHOT/carbon-client-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/util/carbon-client/pom.xml to /home/travis/.m2/repository/com/peterphi/std/util/carbon/carbon-client/9.2.4-SNAPSHOT/carbon-client-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building service-manager 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager-parent ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ service-manager-parent ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/service-manager-parent/9.2.4-SNAPSHOT/service-manager-parent-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Configuration Service 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ configuration ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ configuration ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ configuration ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ configuration ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ configuration ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ configuration ---
[INFO] Packaging webapp
[INFO] Assembling webapp [configuration] in [/home/travis/build/failed/petergeneric/stdlib/service-manager/configuration/target/configuration-9.2.4-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/failed/petergeneric/stdlib/service-manager/configuration/src/main/webapp]
[INFO] Webapp assembled in [7998 msecs]
[INFO] Building war: /home/travis/build/failed/petergeneric/stdlib/service-manager/configuration/target/configuration-9.2.4-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ configuration ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/configuration/target/configuration-9.2.4-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.2.4-SNAPSHOT/configuration-9.2.4-SNAPSHOT.war
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/configuration/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/configuration/9.2.4-SNAPSHOT/configuration-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Service Manager API 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ service-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager-api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ service-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ service-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager-api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ service-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ service-manager-api ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ service-manager-api ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ service-manager-api ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager-api/target/service-manager-api-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/config/service-manager-api/9.2.4-SNAPSHOT/service-manager-api-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager-api/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/service-manager-api/9.2.4-SNAPSHOT/service-manager-api-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-rules 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-rules ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-rules ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/rules/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-rules ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-rules ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-rules ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-rules ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-rules ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-rules ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/rules/target/stdlib-rules-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib-rules/9.2.4-SNAPSHOT/stdlib-rules-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/rules/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-rules/9.2.4-SNAPSHOT/stdlib-rules-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib-azure 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-azure ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-azure ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/azure/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-azure ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-azure ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-azure ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-azure ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ stdlib-azure ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ stdlib-azure ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/azure/target/stdlib-azure-9.2.4-SNAPSHOT.jar to /home/travis/.m2/repository/com/peterphi/std/stdlib-azure/9.2.4-SNAPSHOT/stdlib-azure-9.2.4-SNAPSHOT.jar
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/azure/pom.xml to /home/travis/.m2/repository/com/peterphi/std/stdlib-azure/9.2.4-SNAPSHOT/stdlib-azure-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Service Manager Main 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ service-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ service-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 6 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ service-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ service-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ service-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ service-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ service-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [service-manager] in [/home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.2.4-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager/src/main/webapp]
[INFO] Webapp assembled in [11845 msecs]
[INFO] Building war: /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.2.4-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ service-manager ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager/target/service-manager-9.2.4-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.2.4-SNAPSHOT/service-manager-9.2.4-SNAPSHOT.war
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/service-manager/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/service-manager/9.2.4-SNAPSHOT/service-manager-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Host Agent 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ host-agent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ host-agent ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ host-agent ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ host-agent ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ host-agent ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ host-agent ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ host-agent ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ host-agent ---
[INFO] Packaging webapp
[INFO] Assembling webapp [host-agent] in [/home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/target/host-agent-9.2.4-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/src/main/webapp]
[INFO] Webapp assembled in [2662 msecs]
[INFO] Building war: /home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/target/host-agent-9.2.4-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ host-agent ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/target/host-agent-9.2.4-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/std/config/host-agent/9.2.4-SNAPSHOT/host-agent-9.2.4-SNAPSHOT.war
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/service-manager/host-agent/pom.xml to /home/travis/.m2/repository/com/peterphi/std/config/host-agent/9.2.4-SNAPSHOT/host-agent-9.2.4-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager service 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 6 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-war-plugin:2.6:war (default-war) @ user-manager ---
[INFO] Packaging webapp
[INFO] Assembling webapp [user-manager] in [/home/travis/build/failed/petergeneric/stdlib/user-manager/service/target/user-manager-9.2.4-SNAPSHOT]
[INFO] Processing war project
[INFO] Copying webapp resources [/home/travis/build/failed/petergeneric/stdlib/user-manager/service/src/main/webapp]
[INFO] Webapp assembled in [5965 msecs]
[INFO] Building war: /home/travis/build/failed/petergeneric/stdlib/user-manager/service/target/user-manager-9.2.4-SNAPSHOT.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ user-manager ---
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/user-manager/service/target/user-manager-9.2.4-SNAPSHOT.war to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.2.4-SNAPSHOT/user-manager-9.2.4-SNAPSHOT.war
[INFO] Installing /home/travis/build/failed/petergeneric/stdlib/user-manager/service/pom.xml to /home/travis/.m2/repository/com/peterphi/user-manager/user-manager/9.2.4-SNAPSHOT/user-manager-9.2.4-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  9.818 s]
[INFO] stdlib ............................................. SUCCESS [ 15.768 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.596 s]
[INFO] stdlib guice common ................................ SUCCESS [  4.293 s]
[INFO] user-manager ....................................... SUCCESS [  0.196 s]
[INFO] user manager rest api .............................. SUCCESS [  0.468 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  1.609 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.750 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.644 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  0.794 s]
[INFO] stdlib guice hibernate ............................. SUCCESS [  1.996 s]
[INFO] stdlib guice hibernate testing support ............. SUCCESS [  1.051 s]
[INFO] stdlib guice liquibase support ..................... SUCCESS [  0.998 s]
[INFO] carbon client ...................................... SUCCESS [  0.594 s]
[INFO] service-manager .................................... SUCCESS [  0.403 s]
[INFO] Configuration Service .............................. SUCCESS [ 11.950 s]
[INFO] Service Manager API ................................ SUCCESS [  0.242 s]
[INFO] stdlib-rules ....................................... SUCCESS [  0.394 s]
[INFO] stdlib-azure ....................................... SUCCESS [  2.639 s]
[INFO] Service Manager Main ............................... SUCCESS [ 16.439 s]
[INFO] Host Agent ......................................... SUCCESS [  4.077 s]
[INFO] user manager service ............................... SUCCESS [  9.562 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:46 min
[INFO] Finished at: 2022-01-19T14:52:02+00:00
[INFO] Final Memory: 22M/294M
[INFO] ------------------------------------------------------------------------

travis_time:end:26856258:start=1642603814141641737,finish=1642603922284758301,duration=108143116564[0Ktravis_fold:end:install[0Ktravis_time:start:1e15b8b0[0K$ mvn test -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -B
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0
[INFO] Scanning for projects...
[INFO] Inspecting build with total of 22 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 22 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] application framework parent
[INFO] stdlib
[INFO] application framework guice modules parent
[INFO] stdlib guice common
[INFO] user-manager
[INFO] user manager rest api
[INFO] stdlib guice webapp
[INFO] stdlib guice metrics
[INFO] stdlib guice freemarker webapp
[INFO] stdlib guice testing support
[INFO] stdlib guice hibernate
[INFO] stdlib guice hibernate testing support
[INFO] stdlib guice liquibase support
[INFO] carbon client
[INFO] service-manager
[INFO] Configuration Service
[INFO] Service Manager API
[INFO] stdlib-rules
[INFO] stdlib-azure
[INFO] Service Manager Main
[INFO] Host Agent
[INFO] user manager service
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework parent 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-parent ---
[INFO] Executing: /bin/sh -c cd /home/travis/build/failed/petergeneric/stdlib && git rev-parse --verify HEAD
[INFO] Working directory: /home/travis/build/failed/petergeneric/stdlib
[INFO] Storing buildNumber: b63a6a839e276ac66a45b4e114894fb20cd7fa00 at timestamp: 1642603924550
[INFO] Storing buildScmBranch: master
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/stdlib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/stdlib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.io.PropertyFileTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.667 sec - in com.peterphi.std.io.PropertyFileTest
Running com.peterphi.std.threading.SettableFutureTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.threading.SettableFuture).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.121 sec - in com.peterphi.std.threading.SettableFutureTest
Running com.peterphi.std.types.TimebaseTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in com.peterphi.std.types.TimebaseTest
Running com.peterphi.std.types.TimecodeComparatorTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.149 sec - in com.peterphi.std.types.TimecodeComparatorTest
Running com.peterphi.std.types.TimecodeRangeTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in com.peterphi.std.types.TimecodeRangeTest
Running com.peterphi.std.types.TimecodeTest
Tests run: 26, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.243 sec - in com.peterphi.std.types.TimecodeTest
Running com.peterphi.std.util.JDOMUtilsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.466 sec - in com.peterphi.std.util.JDOMUtilsTest
Running com.peterphi.std.util.ListUtilityTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.238 sec - in com.peterphi.std.util.ListUtilityTest
Running com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.222 sec - in com.peterphi.std.util.jaxb.MultiXSDGeneratorAndValidatorTest

Results :

Tests run: 75, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building application framework guice modules parent 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice common 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-common ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-common ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceFactory).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.837 sec - in com.peterphi.std.guice.common.cache.module.CacheMethodInterceptorTest
Running com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.319 sec - in com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModuleTest
Running com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.068 sec - in com.peterphi.std.guice.common.retry.module.RetryMethodInterceptorTest
Running com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.323 sec - in com.peterphi.std.guice.common.retry.retry.RetryManagerTest
Running com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.common.retry.retry.backoff.ExponentialBackoffTest
Running com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.common.retry.retry.backoff.NoBackoffStrategyTest
Running com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in com.peterphi.std.guice.common.serviceprops.ConfigRefTest
Running com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.741 sec - in com.peterphi.std.guice.common.serviceprops.composite.GuiceConfigTest
Running com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.82 sec - in com.peterphi.std.guice.common.serviceprops.jaxbref.JAXBResourceFactoryTest
Running com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.278 sec - in com.peterphi.std.guice.common.serviceprops.typed.TimeoutConverterTest
Running com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.077 sec - in com.peterphi.std.guice.restclient.jaxb.webquery.WQDatesTest

Results :

Tests run: 26, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user-manager 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-parent ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-parent ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building user manager rest api 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ user-manager-api ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ user-manager-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/user-manager/api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ user-manager-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ user-manager-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/user-manager/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ user-manager-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ user-manager-api ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice webapp 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The artifact xml-apis:xml-apis:jar:2.0.2 has been relocated to xml-apis:xml-apis:jar:1.0.b2
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-webapp ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-webapp ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/webapp/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-webapp ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-webapp ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.542 sec - in com.peterphi.std.guice.web.rest.auth.userprovider.HttpCallJWTUserTest
Running com.peterphi.std.guice.web.rest.auth.userprovider.JWTTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.759 sec - in com.peterphi.std.guice.web.rest.auth.userprovider.JWTTest
Running com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.283 sec - in com.peterphi.std.guice.web.rest.util.BootstrapStaticResourcesTest

Results :

Tests run: 6, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice metrics 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-metrics ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-metrics ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-metrics ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/metrics/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-metrics ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-metrics ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice freemarker webapp 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-freemarker ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-freemarker ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-freemarker ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/freemarker/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-freemarker ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-freemarker ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice testing support 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-testing ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/testing/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-testing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/travis/build/failed/petergeneric/stdlib/guice/testing/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-testing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-testing ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest
log4j:WARN No appenders could be found for logger (com.peterphi.std.guice.apploader.impl.GuiceRegistry).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.346 sec - in com.peterphi.std.com.peterphi.std.guice.testing.annotations.AutomockTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building stdlib guice hibernate 9.2.4-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-maven) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ stdlib-guice-hibernate ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ stdlib-guice-hibernate ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ stdlib-guice-hibernate ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ stdlib-guice-hibernate ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2022-01-19 14:52:41,870 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:41,870 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,165 TRACE {set} key=unit-test; value=true
2022-01-19 14:52:42,339 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,340 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,340 TRACE {set} key=unit-test; value=true
2022-01-19 14:52:42,352 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,352 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,352 TRACE {set} key=unit-test; value=true
2022-01-19 14:52:42,603 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,604 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,604 TRACE {set} key=unit-test; value=true
2022-01-19 14:52:42,605 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,605 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,605 TRACE {set} key=unit-test; value=true
2022-01-19 14:52:42,715 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,715 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,715 TRACE {set} key=unit-test; value=true
2022-01-19 14:52:42,716 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,716 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,717 TRACE {set} key=unit-test; value=true
2022-01-19 14:52:42,735 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,736 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,736 TRACE {set} key=unit-test; value=true
Running com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest
2022-01-19 14:52:42,750 TRACE Search for config files with name: hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,750 DEBUG Loading property file: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/hibernate-tests-in-memory-hsqldb.properties
2022-01-19 14:52:42,751 TRACE {set} key=unit-test; value=true
2022-01-19 14:52:42,753  INFO Trying to create Guice Injector...
2022-01-19 14:52:42,959 DEBUG Discovered guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@13969fbe
2022-01-19 14:52:42,960 DEBUG Discovered guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@6aaa5eb0
2022-01-19 14:52:42,965 TRACE {set} key=travis_tag; value=
2022-01-19 14:52:42,965 TRACE {set} key=path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551/bin:/home/travis/.rvm/gems/ruby-1.9.3-p551@global/bin:/home/travis/.rvm/rubies/ruby-1.9.3-p551/bin:/home/travis/.rvm/bin:/usr/lib/jvm/java-8-oracle/bin:/home/travis/bin:/home/travis/.local/bin:/usr/local/phantomjs/bin:/home/travis/.nvm/v0.10.36/bin:./node_modules/.bin:/usr/local/maven-3.2.5/bin:/usr/local/gradle/bin:/usr/local/clang-3.4/bin:/home/travis/.gimme/versions/go1.4.1.linux.amd64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
2022-01-19 14:52:42,965 TRACE {set} key=irbrc; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551/.irbrc
2022-01-19 14:52:42,965 TRACE {set} key=container; value=docker
2022-01-19 14:52:42,965 TRACE {set} key=casher_dir; value=/home/travis/.casher
2022-01-19 14:52:42,965 TRACE {set} key=travis_job_id; value=
2022-01-19 14:52:42,965 TRACE {set} key=travis_pull_request_branch; value=
2022-01-19 14:52:42,965 TRACE {set} key=travis_allow_failure; value=
2022-01-19 14:52:42,965 TRACE {set} key=travis_jdk_version; value=oraclejdk8
2022-01-19 14:52:42,965 TRACE {set} key=travis_sudo; value=true
2022-01-19 14:52:42,965 TRACE {set} key=travis_os_name; value=linux
2022-01-19 14:52:42,965 TRACE {set} key=ps4; value=+
2022-01-19 14:52:42,965 TRACE {set} key=travis_commit_message; value=add ordering test to large table querying support (currently failing)
2022-01-19 14:52:42,965 TRACE {set} key=rvm_silence_path_mismatch_check_flag; value=1
2022-01-19 14:52:42,965 TRACE {set} key=rvm_version; value=1.26.8 (1.26.8)
2022-01-19 14:52:42,966 TRACE {set} key=travis_event_type; value=
2022-01-19 14:52:42,966 TRACE {set} key=pwd; value=/home/travis/build/failed/petergeneric/stdlib/guice/hibernate
2022-01-19 14:52:42,966 TRACE {set} key=git_askpass; value=echo
2022-01-19 14:52:42,966 TRACE {set} key=rails_env; value=test
2022-01-19 14:52:42,966 TRACE {set} key=has_antares_three_little_fronzies_badge; value=true
2022-01-19 14:52:42,966 TRACE {set} key=shell; value=/bin/bash
2022-01-19 14:52:42,966 TRACE {set} key=composer_no_interaction; value=1
2022-01-19 14:52:42,966 TRACE {set} key=travis_secure_env_vars; value=false
2022-01-19 14:52:42,966 TRACE {set} key=pager; value=cat
2022-01-19 14:52:42,966 TRACE {set} key=nvm_path; value=/home/travis/.nvm/v0.10.36/lib/node
2022-01-19 14:52:42,966 TRACE {set} key=my_ruby_home; value=/home/travis/.rvm/rubies/ruby-1.9.3-p551
2022-01-19 14:52:42,966 TRACE {set} key=oldpwd; value=/home/travis/build/failed/petergeneric/stdlib/guice/hibernate
2022-01-19 14:52:42,966 TRACE {set} key=gem_home; value=/home/travis/.rvm/gems/ruby-1.9.3-p551
2022-01-19 14:52:42,967 TRACE {set} key=rvm_path; value=/home/travis/.rvm
2022-01-19 14:52:42,967 TRACE {set} key=coverity_scan_token; value=[secure]
2022-01-19 14:52:42,967 TRACE {set} key=continuous_integration; value=true
2022-01-19 14:52:42,967 TRACE {set} key=ruby_version; value=ruby-1.9.3-p551
2022-01-19 14:52:42,967 TRACE {set} key=debian_frontend; value=noninteractive
2022-01-19 14:52:42,967 TRACE {set} key=_system_name; value=Ubuntu
2022-01-19 14:52:42,967 TRACE {set} key=m2_home; value=/usr/local/maven
2022-01-19 14:52:42,967 TRACE {set} key=nvm_iojs_org_mirror; value=https://iojs.org/dist
2022-01-19 14:52:42,967 TRACE {set} key=rvm_autoupdate_flag; value=0
2022-01-19 14:52:42,967 TRACE {set} key=travis_build_number; value=
2022-01-19 14:52:42,967 TRACE {set} key=shlvl; value=2
2022-01-19 14:52:42,967 TRACE {set} key=nvm_iojs_org_version_listing; value=https://iojs.org/dist/index.tab
2022-01-19 14:52:42,967 TRACE {set} key=manpath; value=/home/travis/.nvm/v0.10.36/share/man:/usr/local/clang-3.4/share/man:/usr/local/man:/usr/local/share/man:/usr/share/man
2022-01-19 14:52:42,967 TRACE {set} key=_system_arch; value=x86_64
2022-01-19 14:52:42,967 TRACE {set} key=has_josh_k_seal_of_approval; value=true
2022-01-19 14:52:42,967 TRACE {set} key=rvm_bin_path; value=/home/travis/.rvm/bin
2022-01-19 14:52:42,967 TRACE {set} key=java_home; value=/usr/lib/jvm/java-8-oracle
2022-01-19 14:52:42,968 TRACE {set} key=travis_build_id; value=
2022-01-19 14:52:42,968 TRACE {set} key=term; value=xterm
2022-01-19 14:52:42,968 TRACE {set} key=rvm_prefix; value=/home/travis
2022-01-19 14:52:42,968 TRACE {set} key=xfilesearchpath; value=/usr/dt/app-defaults/%L/Dt
2022-01-19 14:52:42,968 TRACE {set} key=lang; value=en_US.UTF-8
2022-01-19 14:52:42,968 TRACE {set} key=travis_job_number; value=
2022-01-19 14:52:42,968 TRACE {set} key=travis_pull_request; value=false
2022-01-19 14:52:42,968 TRACE {set} key=maven_opts; value=-Dmaven.repo.local=/home/travis/.m2/repository -Xmx512m -XX:MaxPermSize=192m
2022-01-19 14:52:42,968 TRACE {set} key=merb_env; value=test
2022-01-19 14:52:42,968 TRACE {set} key=rack_env; value=test
2022-01-19 14:52:42,968 TRACE {set} key=travis_language; value=java
2022-01-19 14:52:42,968 TRACE {set} key=nvm_nodejs_org_mirror; value=https://nodejs.org/dist
2022-01-19 14:52:42,968 TRACE {set} key=travis_branch; value=
2022-01-19 14:52:42,968 TRACE {set} key=maven_cmd_line_args; value=test -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -B
2022-01-19 14:52:42,968 TRACE {set} key=_; value=/usr/local/maven-3.2.5/bin/mvn
2022-01-19 14:52:42,968 TRACE {set} key=jruby_opts; value=--client -J-XX:+TieredCompilation -J-XX:TieredStopAtLevel=1 -Xcext.enabled=false -J-Xss2m -Xcompile.invokedynamic=false
2022-01-19 14:52:42,969 TRACE {set} key=travis_pull_request_slug; value=
2022-01-19 14:52:42,969 TRACE {set} key=nvm_dir; value=/home/travis/.nvm
2022-01-19 14:52:42,969 TRACE {set} key=travis; value=true
2022-01-19 14:52:42,969 TRACE {set} key=ci; value=true
2022-01-19 14:52:42,969 TRACE {set} key=_system_type; value=Linux
2022-01-19 14:52:42,969 TRACE {set} key=travis_build_dir; value=/home/travis/build/failed/petergeneric/stdlib
2022-01-19 14:52:42,969 TRACE {set} key=_system_version; value=12.04
2022-01-19 14:52:42,969 TRACE {set} key=travis_commit_range; value=
2022-01-19 14:52:42,969 TRACE {set} key=user; value=travis
2022-01-19 14:52:42,969 TRACE {set} key=travis_pull_request_sha; value=
2022-01-19 14:52:42,969 TRACE {set} key=goroot; value=/home/travis/.gimme/versions/go1.4.1.linux.amd64
2022-01-19 14:52:42,969 TRACE {set} key=travis_commit; value=
2022-01-19 14:52:42,969 TRACE {set} key=travis_repo_slug; value=petergeneric/stdlib
2022-01-19 14:52:42,969 TRACE {set} key=gem_path; value=/home/travis/.rvm/gems/ruby-1.9.3-p551:/home/travis/.rvm/gems/ruby-1.9.3-p551@global
2022-01-19 14:52:42,969 TRACE {set} key=hostname; value=49f32a35c146
2022-01-19 14:52:42,970 TRACE {set} key=nlspath; value=/usr/dt/lib/nls/msg/%L/%N.cat
2022-01-19 14:52:42,970 TRACE {set} key=nvm_bin; value=/home/travis/.nvm/v0.10.36/bin
2022-01-19 14:52:42,970 TRACE {set} key=home; value=/home/travis
2022-01-19 14:52:42,970 DEBUG Adding requested guice role: com.peterphi.std.guice.apploader.impl.CoreGuiceRole@3498ed
2022-01-19 14:52:42,970 DEBUG Adding requested guice role: com.peterphi.std.guice.testing.ModuleAddingGuiceRole@1a407d53
2022-01-19 14:52:42,970 DEBUG Adding requested guice role: com.peterphi.std.guice.hibernate.role.HibernateAutoGuiceRole@13969fbe
2022-01-19 14:52:42,970 DEBUG Adding requested guice role: com.peterphi.std.guice.common.eagersingleton.BindEagerSingletonRole@6aaa5eb0
2022-01-19 14:52:43,016 TRACE Search for config files with name: environment.properties
2022-01-19 14:52:43,017 TRACE Search for config files with name: service.properties
2022-01-19 14:52:43,021 DEBUG Using static GuiceSetup: com.peterphi.std.guice.apploader.BasicSetup@29ee9faa
2022-01-19 14:52:43,086  INFO Found source: file:/home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/test-classes/com/peterphi/std/guice/hibernate/hqlchildcount/
2022-01-19 14:52:43,560 TRACE getAnnotatedClasses interface com.peterphi.std.guice.common.eagersingleton.annotations.EagerSingleton with predicate=null returned in 0 ms
2022-01-19 14:52:43,560 TRACE Creating Injector with modules: [com.peterphi.std.guice.common.shutdown.ShutdownModule@43814d18, com.peterphi.std.guice.apploader.impl.GuiceRegistryModule@5c5a1b69, com.peterphi.std.guice.common.serviceprops.ServicePropertiesModule@3701eaf6, com.peterphi.std.guice.common.serviceprops.ConfigurationPropertyRegistryModule@627551fb, com.peterphi.std.guice.common.lifecycle.GuiceLifecycleModule@2b552920, com.peterphi.std.guice.common.metrics.CoreMetricsModule@2758fe70, com.peterphi.std.guice.common.cached.module.CacheModule@1f36e637, com.peterphi.std.guice.common.retry.module.RetryModule@578486a3, com.peterphi.std.guice.common.JAXBModule@551aa95a, com.peterphi.std.guice.common.logging.Log4JModule@610694f1, com.peterphi.std.guice.hibernate.role.AutoHibernateModule@35d176f7]
2022-01-19 14:52:43,878 DEBUG Discovered new property: guice.bootstrap.class
2022-01-19 14:52:43,878 TRACE Discovered new binding for property guice.bootstrap.class of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,878 DEBUG Discovered new property: scan.packages
2022-01-19 14:52:43,878 TRACE Discovered new binding for property scan.packages of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,878 DEBUG Discovered new property: override-properties.file
2022-01-19 14:52:43,878 TRACE Discovered new binding for property override-properties.file of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,878 DEBUG Discovered new property: mode
2022-01-19 14:52:43,878 TRACE Discovered new binding for property mode of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,878 DEBUG Discovered new property: log4j.properties
2022-01-19 14:52:43,878 TRACE Discovered new binding for property log4j.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,878 DEBUG Discovered new property: guice.jaxb.moxy
2022-01-19 14:52:43,878 TRACE Discovered new binding for property guice.jaxb.moxy of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,879 DEBUG Discovered new property: unit-test
2022-01-19 14:52:43,879 TRACE Discovered new binding for property unit-test of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,879 DEBUG Discovered new property: service.instance-id
2022-01-19 14:52:43,879 TRACE Discovered new binding for property service.instance-id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,879 DEBUG Discovered new property: service-manager.logging.skip
2022-01-19 14:52:43,879 TRACE Discovered new binding for property service-manager.logging.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,879 DEBUG Discovered new property: service-manager.logging.max-backlog
2022-01-19 14:52:43,879 TRACE Discovered new binding for property service-manager.logging.max-backlog of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,879 DEBUG Discovered new property: service.config.endpoint
2022-01-19 14:52:43,879 TRACE Discovered new binding for property service.config.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,879 DEBUG Discovered new property: service.config.path
2022-01-19 14:52:43,879 TRACE Discovered new binding for property service.config.path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,879 DEBUG Discovered new property: service.config.source
2022-01-19 14:52:43,879 TRACE Discovered new binding for property service.config.source of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,879 DEBUG Discovered new property: service.config.last-revision
2022-01-19 14:52:43,879 TRACE Discovered new binding for property service.config.last-revision of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,879 DEBUG Discovered new property: service.config.skip
2022-01-19 14:52:43,879 TRACE Discovered new binding for property service.config.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,879 DEBUG Discovered new property: restutils.allow-restart
2022-01-19 14:52:43,879 TRACE Discovered new binding for property restutils.allow-restart of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,879 DEBUG Discovered new property: restutils.show-serviceprops
2022-01-19 14:52:43,880 TRACE Discovered new binding for property restutils.show-serviceprops of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,880 DEBUG Discovered new property: restutils.allow-reconfigure
2022-01-19 14:52:43,880 TRACE Discovered new binding for property restutils.allow-reconfigure of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,880 DEBUG Discovered new property: restutils.show-bound-values
2022-01-19 14:52:43,880 TRACE Discovered new binding for property restutils.show-bound-values of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,880 DEBUG Discovered new property: local.restservices.endpoint
2022-01-19 14:52:43,880 TRACE Discovered new binding for property local.restservices.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,880 DEBUG Discovered new property: local.restservices.prefix
2022-01-19 14:52:43,880 TRACE Discovered new binding for property local.restservices.prefix of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,880 DEBUG Discovered new property: servlet.context-name
2022-01-19 14:52:43,880 TRACE Discovered new binding for property servlet.context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,880 DEBUG Discovered new property: context-name
2022-01-19 14:52:43,880 TRACE Discovered new binding for property context-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,880 DEBUG Discovered new property: role.jaxrs-server.auto
2022-01-19 14:52:43,880 TRACE Discovered new binding for property role.jaxrs-server.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,880 DEBUG Discovered new property: framework.restcoreservices.disabled
2022-01-19 14:52:43,880 TRACE Discovered new binding for property framework.restcoreservices.disabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,887 DEBUG Discovered new property: local.webapp.endpoint
2022-01-19 14:52:43,887 TRACE Discovered new binding for property local.webapp.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,887 DEBUG Discovered new property: local.container.endpoint
2022-01-19 14:52:43,887 TRACE Discovered new binding for property local.container.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,887 DEBUG Discovered new property: local.webapp.context-path
2022-01-19 14:52:43,887 TRACE Discovered new binding for property local.webapp.context-path of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: freemarker.urlhelper.use-request-host
2022-01-19 14:52:43,888 TRACE Discovered new binding for property freemarker.urlhelper.use-request-host of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: framework.suppress-ClientAbortException
2022-01-19 14:52:43,888 TRACE Discovered new binding for property framework.suppress-ClientAbortException of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: framework.webauth.provider
2022-01-19 14:52:43,888 TRACE Discovered new binding for property framework.webauth.provider of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: framework.webauth.enabled
2022-01-19 14:52:43,888 TRACE Discovered new binding for property framework.webauth.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: framework.webauth.only-servlet-request
2022-01-19 14:52:43,888 TRACE Discovered new binding for property framework.webauth.only-servlet-request of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: framework.webauth.scope.default.role
2022-01-19 14:52:43,888 TRACE Discovered new binding for property framework.webauth.scope.default.role of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: framework.webauth.scope.default.skip
2022-01-19 14:52:43,888 TRACE Discovered new binding for property framework.webauth.scope.default.skip of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: framework.webauth.jwt.secret
2022-01-19 14:52:43,888 TRACE Discovered new binding for property framework.webauth.jwt.secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: framework.webauth.jwt.issuer
2022-01-19 14:52:43,888 TRACE Discovered new binding for property framework.webauth.jwt.issuer of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: framework.webauth.jwt.audience
2022-01-19 14:52:43,888 TRACE Discovered new binding for property framework.webauth.jwt.audience of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: framework.webauth.jwt.header-name
2022-01-19 14:52:43,888 TRACE Discovered new binding for property framework.webauth.jwt.header-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,888 DEBUG Discovered new property: framework.webauth.jwt.cookie-name
2022-01-19 14:52:43,889 TRACE Discovered new binding for property framework.webauth.jwt.cookie-name of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: service.oauth2.endpoint
2022-01-19 14:52:43,889 TRACE Discovered new binding for property service.oauth2.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: service.oauth2.client_id
2022-01-19 14:52:43,889 TRACE Discovered new binding for property service.oauth2.client_id of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: service.oauth2.client_secret
2022-01-19 14:52:43,889 TRACE Discovered new binding for property service.oauth2.client_secret of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: framework.http-request.default-to-utf8
2022-01-19 14:52:43,889 TRACE Discovered new binding for property framework.http-request.default-to-utf8 of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: rest.exception.html.highlight.terms
2022-01-19 14:52:43,889 TRACE Discovered new binding for property rest.exception.html.highlight.terms of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: rest.exception.html.highlight.enabled
2022-01-19 14:52:43,889 TRACE Discovered new binding for property rest.exception.html.highlight.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: rest.exception.html.enabled
2022-01-19 14:52:43,889 TRACE Discovered new binding for property rest.exception.html.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in
2022-01-19 14:52:43,889 TRACE Discovered new binding for property rest.exception.html.enabled.only-for-logged-in of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: rest.exception.html.enabled.only-for-logged-in.role
2022-01-19 14:52:43,889 TRACE Discovered new binding for property rest.exception.html.enabled.only-for-logged-in.role of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: rest.exception.html.feature.jvminfo
2022-01-19 14:52:43,889 TRACE Discovered new binding for property rest.exception.html.feature.jvminfo of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: rest.exception.html.feature.jvminfo.environment
2022-01-19 14:52:43,889 TRACE Discovered new binding for property rest.exception.html.feature.jvminfo.environment of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: rest.exception.html.feature.requestinfo
2022-01-19 14:52:43,889 TRACE Discovered new binding for property rest.exception.html.feature.requestinfo of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,889 DEBUG Discovered new property: rest.exception.html.feature.stacktrace
2022-01-19 14:52:43,890 TRACE Discovered new binding for property rest.exception.html.feature.stacktrace of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: rest.exception.html.jira.enabled
2022-01-19 14:52:43,890 TRACE Discovered new binding for property rest.exception.html.jira.enabled of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: rest.exception.html.jira.pid
2022-01-19 14:52:43,890 TRACE Discovered new binding for property rest.exception.html.jira.pid of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: rest.exception.html.jira.issueType
2022-01-19 14:52:43,890 TRACE Discovered new binding for property rest.exception.html.jira.issueType of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: rest.exception.html.jira.endpoint
2022-01-19 14:52:43,890 TRACE Discovered new binding for property rest.exception.html.jira.endpoint of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: hibernate.properties
2022-01-19 14:52:43,890 TRACE Discovered new binding for property hibernate.properties of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: hibernate.allow-hbm2ddl-create
2022-01-19 14:52:43,890 TRACE Discovered new binding for property hibernate.allow-hbm2ddl-create of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: role.hibernate.auto
2022-01-19 14:52:43,890 TRACE Discovered new binding for property role.hibernate.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: role.thymeleaf.auto
2022-01-19 14:52:43,890 TRACE Discovered new binding for property role.thymeleaf.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: role.metrics-jaxrs.auto
2022-01-19 14:52:43,890 TRACE Discovered new binding for property role.metrics-jaxrs.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: metrics-jaxrs.show-samples
2022-01-19 14:52:43,890 TRACE Discovered new binding for property metrics-jaxrs.show-samples of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: role.dbunit.auto
2022-01-19 14:52:43,890 TRACE Discovered new binding for property role.dbunit.auto of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,890 DEBUG Discovered new property: liquibase.action
2022-01-19 14:52:43,891 TRACE Discovered new binding for property liquibase.action of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,891 DEBUG Discovered new property: liquibase.changelog
2022-01-19 14:52:43,891 TRACE Discovered new binding for property liquibase.changelog of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,891 DEBUG Discovered new property: liquibase.contexts
2022-01-19 14:52:43,891 TRACE Discovered new binding for property liquibase.contexts of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,891 DEBUG Discovered new property: liquibase.labels
2022-01-19 14:52:43,891 TRACE Discovered new binding for property liquibase.labels of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,891 DEBUG Discovered new property: liquibase.parameter.
2022-01-19 14:52:43,891 TRACE Discovered new binding for property liquibase.parameter. of type class java.lang.String in class com.peterphi.std.guice.apploader.GuiceProperties
2022-01-19 14:52:43,914 DEBUG Loading log4j configuration from embedded
2022-01-19 14:52:43,915 TRACE {set} key=log4j.logger.com.peterphi.std.guice.hibernate; value=TRACE
2022-01-19 14:52:43,915 TRACE {set} key=log4j.appender.logconsole.layout.ConversionPattern; value=%d{ISO8601} %5p %m%n
2022-01-19 14:52:43,916 TRACE {set} key=log4j.rootCategory; value=WARN, logconsole
2022-01-19 14:52:43,916 TRACE {set} key=log4j.appender.logconsole; value=org.apache.log4j.ConsoleAppender
2022-01-19 14:52:43,916 TRACE {set} key=log4j.appender.logconsole.layout; value=org.apache.log4j.PatternLayout
2022-01-19 14:52:43,916 TRACE {set} key=log4j.properties; value=embedded
2022-01-19 14:52:45,436 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2022-01-19 14:52:45,439 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2022-01-19 14:52:45,775 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:45,852  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2022-01-19 14:52:49,509 ERROR HHH000389: Unsuccessful: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
2022-01-19 14:52:49,510 ERROR user lacks privilege or object not found: PUBLIC.R
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2022-01-19 14:52:49,520 TRACE Hibernate Setup Complete.
2022-01-19 14:52:49,521 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2022-01-19 14:52:49,521 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2022-01-19 14:52:49,682 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2022-01-19 14:52:50,157 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2022-01-19 14:52:50,157 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2022-01-19 14:52:50,245 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_
2022-01-19 14:52:50,601 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@783115d9
2022-01-19 14:52:50,607  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:50,607 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:50,609 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7fb33394
2022-01-19 14:52:50,766 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2022-01-19 14:52:50,766 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2022-01-19 14:52:50,767 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:50,774  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table R drop constraint FK_2wpj61ojlbrhb2ate40cu1h18
Hibernate: drop table Q if exists
Hibernate: drop table R if exists
Hibernate: create table Q (id bigint generated by default as identity (start with 1), capacity integer not null, primary key (id))
Hibernate: create table R (id bigint generated by default as identity (start with 1), flag boolean not null, parent_id bigint not null, primary key (id))
Hibernate: alter table R add constraint FK_2wpj61ojlbrhb2ate40cu1h18 foreign key (parent_id) references Q
2022-01-19 14:52:50,794 TRACE Hibernate Setup Complete.
2022-01-19 14:52:50,794 DEBUG Known entities: [com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity, com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity]
2022-01-19 14:52:50,794 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2022-01-19 14:52:50,794 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2022-01-19 14:52:50,794 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ParentEntity
2022-01-19 14:52:50,794 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.hqlchildcount.ChildEntity
2022-01-19 14:52:50,795 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into Q (id, capacity) values (default, ?)
2022-01-19 14:52:50,814 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4483d35
2022-01-19 14:52:50,817 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select parententi0_.id as id1_0_0_, parententi0_.capacity as capacity2_0_0_ from Q parententi0_ where parententi0_.id=?
2022-01-19 14:52:50,831 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6abdec0e
2022-01-19 14:52:50,832 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2022-01-19 14:52:50,847 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6dc9da2d
2022-01-19 14:52:50,847 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2022-01-19 14:52:50,849 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@79518e00
2022-01-19 14:52:50,850 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2022-01-19 14:52:50,851 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@48df4071
2022-01-19 14:52:50,852 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2022-01-19 14:52:50,852 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@341b13a8
2022-01-19 14:52:50,853 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and 0<>(select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)
2022-01-19 14:52:50,855 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@52b3bf03
2022-01-19 14:52:50,855 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into R (id, flag, parent_id) values (default, ?, ?)
2022-01-19 14:52:50,856 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7a4d582c
2022-01-19 14:52:50,856 TRACE Creating new transaction to call public java.util.List<java.lang.Long> com.peterphi.std.guice.hibernate.hqlchildcount.ParentDao.getIdsByQuery(java.lang.String)
Hibernate: select parententi0_.id as col_0_0_ from Q parententi0_ where parententi0_.capacity>(select count(childentit1_.id) from R childentit1_ where childentit1_.parent_id=parententi0_.id and childentit1_.flag=true) and (select count(childentit2_.id) from R childentit2_ where childentit2_.parent_id=parententi0_.id and childentit2_.flag=false)<>0
2022-01-19 14:52:50,869 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@513b52af
2022-01-19 14:52:50,869  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:50,869 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:50,870 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3bed3315
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.123 sec - in com.peterphi.std.guice.hibernate.hqlchildcount.HqlChildCountTest
Running com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
2022-01-19 14:52:51,448 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-19 14:52:51,448 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-19 14:52:51,449 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:51,453  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2022-01-19 14:52:51,492 TRACE Hibernate Setup Complete.
2022-01-19 14:52:51,492 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2022-01-19 14:52:51,492 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-19 14:52:51,492 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-19 14:52:51,492 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-19 14:52:51,493 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-19 14:52:51,493 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorks()
2022-01-19 14:52:51,495 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2022-01-19 14:52:51,497 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2022-01-19 14:52:51,498 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2022-01-19 14:52:51,499 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2022-01-19 14:52:51,499 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2022-01-19 14:52:51,500 TRACE Joining existing transaction to call public long com.peterphi.std.guice.hibernate.largetable.MyTestDaoImpl.countWithAInName()
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (select this_.id as y0_ from simple_pk_entity this_ where this_.name like ?)
2022-01-19 14:52:52,233 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:52,234 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as y0_ from simple_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (?, ?)
2022-01-19 14:52:52,747 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4e80a001
2022-01-19 14:52:52,748  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:52,748 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:52,748 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@50b46e24
2022-01-19 14:52:52,906 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-19 14:52:52,906 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-19 14:52:52,907 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:52,912  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2022-01-19 14:52:52,936 TRACE Hibernate Setup Complete.
2022-01-19 14:52:52,936 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2022-01-19 14:52:52,936 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-19 14:52:52,936 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-19 14:52:52,937 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-19 14:52:52,937 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-19 14:52:52,938 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchComplexPK()
2022-01-19 14:52:52,986 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-19 14:52:52,988 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-19 14:52:52,989 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-19 14:52:52,989 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-19 14:52:52,989 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
2022-01-19 14:52:52,989 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:52,990 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: insert into complex_pk_entity (name, id, ts) values (?, ?, ?)
Hibernate: select this_.id as y0_, this_.ts as y1_ from complex_pk_entity this_ where this_.name like ? limit ?
Hibernate: select this_.id as id1_0_0_, this_.ts as ts2_0_0_, this_.name as name3_0_0_ from complex_pk_entity this_ where  (  ( this_.id = ? and this_.ts= ? ) or  ( this_.id = ? and this_.ts= ? )  ) 
2022-01-19 14:52:53,004 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6d7b001b
2022-01-19 14:52:53,004  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:53,005 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:53,005 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@660b1a9d
2022-01-19 14:52:53,112 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-19 14:52:53,112 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-19 14:52:53,112 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:53,115  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table complex_pk_entity if exists
Hibernate: drop table simple_pk_entity if exists
Hibernate: create table complex_pk_entity (id varchar(20) not null, ts bigint not null, name varchar(255) not null, primary key (id, ts))
Hibernate: create table simple_pk_entity (id bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (id))
2022-01-19 14:52:53,128 TRACE Hibernate Setup Complete.
2022-01-19 14:52:53,128 DEBUG Known entities: [com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity, com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity]
2022-01-19 14:52:53,128 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-19 14:52:53,128 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableComplexPKEntity
2022-01-19 14:52:53,128 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-19 14:52:53,128 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.largetable.LargeTableSimplePKEntity
2022-01-19 14:52:53,129 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorksWithOrder()
2022-01-19 14:52:53,129 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2022-01-19 14:52:53,130 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2022-01-19 14:52:53,131 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2022-01-19 14:52:53,132 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2022-01-19 14:52:53,132 TRACE Joining existing transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into simple_pk_entity (id, name) values (default, ?)
2022-01-19 14:52:53,360 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:53,360 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as y0_ from simple_pk_entity this_ where this_.name like ? order by this_.name desc limit ?
Hibernate: select this_.id as id1_1_0_, this_.name as name2_1_0_ from simple_pk_entity this_ where this_.id in (?, ?)
2022-01-19 14:52:53,366 TRACE Rollback org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@79b7c350
Tests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 2.351 sec <<< FAILURE! - in com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest
testSearchWorksWithOrder(com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest)  Time elapsed: 0.245 sec  <<< FAILURE!
org.junit.ComparisonFailure: expected:<[Carol]> but was:<[Alice]>
	at com.peterphi.std.guice.hibernate.largetable.LargeTableQueryTest.testSearchWorksWithOrder(LargeTableQueryTest.java:66)

Running com.peterphi.std.guice.hibernate.module.TransactionHelperTest
2022-01-19 14:52:53,674 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2022-01-19 14:52:53,675 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:53,677  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
2022-01-19 14:52:53,700 ERROR HHH000389: Unsuccessful: drop table Q if exists
2022-01-19 14:52:53,700 ERROR is referenced by FOREIGN KEY constraint: PUBLIC.FK_2WPJ61OJLBRHB2ATE40CU1H18 in statement [drop table Q if exists]
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2022-01-19 14:52:53,700 ERROR HHH000389: Unsuccessful: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2022-01-19 14:52:53,700 ERROR object name already exists: Q in statement [create table Q (id bigint generated by default as identity (start with 1), primary key (id))]
2022-01-19 14:52:53,700 TRACE Hibernate Setup Complete.
2022-01-19 14:52:53,701 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2022-01-19 14:52:53,708 DEBUG KillTransaction causes rollback
2022-01-19 14:52:53,708  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:53,708 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:53,709 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1d9ff1e2
2022-01-19 14:52:53,831 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2022-01-19 14:52:53,832 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:53,834  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
2022-01-19 14:52:53,844 ERROR HHH000389: Unsuccessful: drop table Q if exists
2022-01-19 14:52:53,844 ERROR is referenced by FOREIGN KEY constraint: PUBLIC.FK_2WPJ61OJLBRHB2ATE40CU1H18 in statement [drop table Q if exists]
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2022-01-19 14:52:53,845 ERROR HHH000389: Unsuccessful: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2022-01-19 14:52:53,845 ERROR object name already exists: Q in statement [create table Q (id bigint generated by default as identity (start with 1), primary key (id))]
2022-01-19 14:52:53,845 TRACE Hibernate Setup Complete.
2022-01-19 14:52:53,845 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.module.TransactionHelperTest.doTransaction(boolean)
2022-01-19 14:52:53,845 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@8d7718e
2022-01-19 14:52:53,846  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:53,846 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:53,846 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@699bb304
2022-01-19 14:52:53,965 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.module.TransactionHelperTest$DummyEntity
2022-01-19 14:52:53,965 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:53,968  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table Q if exists
2022-01-19 14:52:53,979 ERROR HHH000389: Unsuccessful: drop table Q if exists
2022-01-19 14:52:53,979 ERROR is referenced by FOREIGN KEY constraint: PUBLIC.FK_2WPJ61OJLBRHB2ATE40CU1H18 in statement [drop table Q if exists]
Hibernate: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2022-01-19 14:52:53,980 ERROR HHH000389: Unsuccessful: create table Q (id bigint generated by default as identity (start with 1), primary key (id))
2022-01-19 14:52:53,980 ERROR object name already exists: Q in statement [create table Q (id bigint generated by default as identity (start with 1), primary key (id))]
2022-01-19 14:52:53,980 TRACE Hibernate Setup Complete.
2022-01-19 14:52:53,980  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:53,980 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:53,980 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@233789d9
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.59 sec - in com.peterphi.std.guice.hibernate.module.TransactionHelperTest
Running com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in com.peterphi.std.guice.hibernate.usertype.SampleCountUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in com.peterphi.std.guice.hibernate.usertype.TimecodeUserTypeTest
Running com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
2022-01-19 14:52:54,276 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2022-01-19 14:52:54,277 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:54,279  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), updated_ts bigint not null, primary key (id))
2022-01-19 14:52:54,292 TRACE Hibernate Setup Complete.
2022-01-19 14:52:54,292 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField]
2022-01-19 14:52:54,292 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2022-01-19 14:52:54,292 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.datetime.ObjWithDateTimeVersionField
2022-01-19 14:52:54,293 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, updated_ts) values (default, ?)
2022-01-19 14:52:54,294 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7995a589
2022-01-19 14:52:54,294 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select objwithdat0_.id as id1_0_0_, objwithdat0_.updated_ts as updated_2_0_0_ from test_entity objwithdat0_ where objwithdat0_.id=?
2022-01-19 14:52:54,295 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@65b7678a
2022-01-19 14:52:54,296 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2022-01-19 14:52:54,297 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2f11d889
Hibernate: update test_entity set updated_ts=? where id=? and updated_ts=?
2022-01-19 14:52:54,300  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:54,300 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:54,300 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3df681cc
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.171 sec - in com.peterphi.std.guice.hibernate.usertype.datetime.DateTimeUserTypeVersionFieldTest
Running com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
2022-01-19 14:52:54,572 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2022-01-19 14:52:54,572 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:54,574  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table test_entity if exists
Hibernate: create table test_entity (id bigint generated by default as identity (start with 1), some_date date not null, some_date_nullable date, primary key (id))
2022-01-19 14:52:54,585 TRACE Hibernate Setup Complete.
2022-01-19 14:52:54,586 DEBUG Known entities: [com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity]
2022-01-19 14:52:54,586 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2022-01-19 14:52:54,586 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateEntity
2022-01-19 14:52:54,604 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into test_entity (id, some_date, some_date_nullable) values (default, ?, ?)
2022-01-19 14:52:54,605 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@71f86562
2022-01-19 14:52:54,606 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select localdatee0_.id as id1_0_0_, localdatee0_.some_date as some_dat2_0_0_, localdatee0_.some_date_nullable as some_dat3_0_0_ from test_entity localdatee0_ where localdatee0_.id=?
2022-01-19 14:52:54,607 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@41962299
2022-01-19 14:52:54,607 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.dao.HibernateDao.update(T)
2022-01-19 14:52:54,608 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6421bc7e
Hibernate: update test_entity set some_date=?, some_date_nullable=? where id=?
2022-01-19 14:52:54,609  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:54,609 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:54,609 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@a3e458
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.307 sec - in com.peterphi.std.guice.hibernate.usertype.localdate.LocalDateUserTypeTest
Running com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
2022-01-19 14:52:55,593 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:55,593 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:55,593 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:55,593 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:55,593 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:55,593 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:55,593 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:55,593 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:55,596  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2022-01-19 14:52:55,657 ERROR HHH000389: Unsuccessful: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
2022-01-19 14:52:55,657 ERROR user lacks privilege or object not found: PUBLIC.CHILDENTITY
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2022-01-19 14:52:55,657 ERROR HHH000389: Unsuccessful: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
2022-01-19 14:52:55,657 ERROR user lacks privilege or object not found: PUBLIC.PARENTENTITY
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2022-01-19 14:52:55,657 ERROR HHH000389: Unsuccessful: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
2022-01-19 14:52:55,657 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_ONE
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2022-01-19 14:52:55,658 ERROR HHH000389: Unsuccessful: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
2022-01-19 14:52:55,658 ERROR user lacks privilege or object not found: PUBLIC.INHERIT_TWO
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:55,662 TRACE Hibernate Setup Complete.
2022-01-19 14:52:55,662 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:55,662 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:55,662 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:55,663 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:55,663 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:55,663 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:55,663 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:55,663 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:55,663 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:55,663 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:55,663 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:55,663 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:55,663 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:55,664 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:55,666 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:55,670 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:55,672 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2c40e456
2022-01-19 14:52:55,674 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:55,675 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:55,930  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:55,930 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:55,931 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5ace902e
2022-01-19 14:52:56,054 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,054 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,055 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,055 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:56,055 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,055 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,055 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,056 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:56,059  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:56,097 TRACE Hibernate Setup Complete.
2022-01-19 14:52:56,098 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:56,098 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,098 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,098 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,098 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,098 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,098 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,098 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,098 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,098 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,098 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,098 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,098 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,099 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:56,099 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,100 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,101 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@12939937
2022-01-19 14:52:56,102 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2022-01-19 14:52:56,102 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:56,102 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2022-01-19 14:52:56,107 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@18b8518b
2022-01-19 14:52:56,108  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:56,108 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:56,108 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@63fe055
2022-01-19 14:52:56,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:56,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,231 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,232 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:56,234  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:56,274 TRACE Hibernate Setup Complete.
2022-01-19 14:52:56,274 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:56,274 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,275 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,275 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,275 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,275 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,275 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,275 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,275 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,275 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,275 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,275 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,275 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,276 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:56,276 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,278 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,279 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@67d8e214
2022-01-19 14:52:56,280 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:56,280 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=otherobjec1_.obj_name limit ?
2022-01-19 14:52:56,283 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@27b89e0a
2022-01-19 14:52:56,284 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:56,284 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name<=otherobjec1_.obj_name limit ?
2022-01-19 14:52:56,286 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@45add64c
2022-01-19 14:52:56,286  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:56,287 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:56,287 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7f8586f9
2022-01-19 14:52:56,400 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,400 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,400 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,400 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:56,400 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,400 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,400 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,401 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:56,403  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:56,433 TRACE Hibernate Setup Complete.
2022-01-19 14:52:56,433 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:56,433 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,433 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,433 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,433 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,433 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,433 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,433 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,433 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,433 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,433 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,434 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,434 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,434 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:56,434 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,436 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,437 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@39b752f4
2022-01-19 14:52:56,437 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:56,446 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@22a10b71
2022-01-19 14:52:56,447 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:56,450 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@31881213
2022-01-19 14:52:56,451 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:56,451 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2022-01-19 14:52:56,457 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@28245839
2022-01-19 14:52:56,457 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:56,457 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where this_.deprecated=? limit ?
2022-01-19 14:52:56,458 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3609b8f2
2022-01-19 14:52:56,459  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:56,459 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:56,459 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@32dab011
2022-01-19 14:52:56,566 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,566 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,566 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,566 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:56,566 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,566 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,566 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,567 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:56,568  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:56,602 TRACE Hibernate Setup Complete.
2022-01-19 14:52:56,602 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:56,602 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,602 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,602 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,602 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,602 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,602 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,603 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:56,603 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,604 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,605 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5c9844a4
2022-01-19 14:52:56,606 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:56,608 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6fc1d215
2022-01-19 14:52:56,608 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:56,609 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2765c3fc
2022-01-19 14:52:56,610 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:56,611 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5e8ec0d9
2022-01-19 14:52:56,612 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select count(*) as y0_ from ParentEntity this_ limit ?
2022-01-19 14:52:56,614 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.obj_name desc limit ?
2022-01-19 14:52:56,616 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4e4d6172
2022-01-19 14:52:56,616  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:56,617 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:56,617 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5e324000
2022-01-19 14:52:56,726 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,726 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,727 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,727 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:56,727 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,727 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,727 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,727 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:56,729  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:56,764 TRACE Hibernate Setup Complete.
2022-01-19 14:52:56,764 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:56,764 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,764 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,765 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,765 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,765 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,765 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,765 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,765 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,765 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,765 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,765 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,765 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,765 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:56,766 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,767 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,768 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@665e0a9b
2022-01-19 14:52:56,769 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:56,771 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@77e467d9
2022-01-19 14:52:56,771 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:56,772 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id is null limit ?
2022-01-19 14:52:56,775 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5c176a0f
2022-01-19 14:52:56,775  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:56,776 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:56,776 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@b7a2b89
2022-01-19 14:52:56,904 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,904 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,904 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,904 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:56,904 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,904 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,904 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,905 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:56,907  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:56,941 TRACE Hibernate Setup Complete.
2022-01-19 14:52:56,941 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:56,941 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,941 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,941 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:56,941 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:56,941 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,941 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:56,941 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,942 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:56,942 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,942 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:56,942 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,942 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:56,943 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:56,943 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,945 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:56,946 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@57b4967e
2022-01-19 14:52:56,946 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2022-01-19 14:52:56,946 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:56,947 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id=? limit ?
2022-01-19 14:52:56,951 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2183db30
2022-01-19 14:52:56,951  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:56,951 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:56,951 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@554a76fd
2022-01-19 14:52:57,074 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,075 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,075 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,075 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:57,075 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,075 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,075 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,075 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:57,078  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:57,105 TRACE Hibernate Setup Complete.
2022-01-19 14:52:57,105 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:57,105 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,105 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,106 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,106 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,106 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,106 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,106 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,106 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,106 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,106 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,106 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,106 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,106 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:57,107 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,108 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,109 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@56653a4d
2022-01-19 14:52:57,110 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:57,112 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@53b52f30
2022-01-19 14:52:57,112 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:57,114 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4e826e33
2022-01-19 14:52:57,114 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2022-01-19 14:52:57,115 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@70d7282a
2022-01-19 14:52:57,115 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2022-01-19 14:52:57,116 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@283dd82a
2022-01-19 14:52:57,116 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:57,116 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id limit ?
2022-01-19 14:52:57,118 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@14f13587
2022-01-19 14:52:57,119 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:57,119 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where ? <= (select count(*) from ChildEntity where this_.id=parent_id) limit ?
2022-01-19 14:52:57,123 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1d691240
2022-01-19 14:52:57,123 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:57,123 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id where not exists (select 1 from ChildEntity where this_.id=parent_id) limit ?
2022-01-19 14:52:57,126 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4e5dcc50
2022-01-19 14:52:57,126  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:57,126 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:57,126 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6272fe30
2022-01-19 14:52:57,243 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,243 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,243 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,243 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:57,243 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,243 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,243 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,243 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:57,245  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:57,275 TRACE Hibernate Setup Complete.
2022-01-19 14:52:57,275 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:57,275 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,276 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,276 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,276 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,276 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,276 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,276 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,276 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,276 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,276 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,276 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,276 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,277 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:57,277 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,278 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,279 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@69075512
2022-01-19 14:52:57,280 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:57,281 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6fe8e276
2022-01-19 14:52:57,282 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:57,283 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1d8ab0dc
2022-01-19 14:52:57,284 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:57,284 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id desc limit ?
2022-01-19 14:52:57,286 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@424bcd62
2022-01-19 14:52:57,287  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:57,287 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:57,287 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@35e4cf0c
2022-01-19 14:52:57,395 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,395 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,395 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,395 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:57,395 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,395 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,395 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,396 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:57,398  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:57,422 TRACE Hibernate Setup Complete.
2022-01-19 14:52:57,422 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:57,422 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,422 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,423 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,423 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,423 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,423 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,423 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,423 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,423 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,423 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,423 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,423 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,424 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:57,424 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,426 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,427 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7715471f
2022-01-19 14:52:57,427 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:57,428 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, children1_.parent_id as parent_i3_2_5_, children1_.id as id1_0_5_, children1_.id as id1_0_0_, children1_.obj_name as obj_name2_0_0_, children1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity children1_ on this_.id=children1_.parent_id left outer join ParentEntity parententi4_ on children1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where children1_.id is null limit ?
2022-01-19 14:52:57,429 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@912756d
2022-01-19 14:52:57,430  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:57,430 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:57,430 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1ff55eff
2022-01-19 14:52:57,531 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,532 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,532 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,532 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:57,532 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,532 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,532 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,532 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:57,535  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:57,561 TRACE Hibernate Setup Complete.
2022-01-19 14:52:57,561 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:57,561 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,561 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,561 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,561 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,561 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,561 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,561 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,561 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,561 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,561 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,561 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,561 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,562 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:57,562 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,563 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,564 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6d4e4e0c
2022-01-19 14:52:57,564 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ChildEntity (id, obj_name, parent_id) values (default, ?, ?)
2022-01-19 14:52:57,565 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7ef5a01b
2022-01-19 14:52:57,566 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:57,567 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1fb81254
2022-01-19 14:52:57,567 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:57,567 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name=otherobjec1_.obj_name limit ?
2022-01-19 14:52:57,569 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2622efb0
2022-01-19 14:52:57,570 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:57,570 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where this_.obj_name<>otherobjec1_.obj_name limit ?
2022-01-19 14:52:57,571 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1e594828
2022-01-19 14:52:57,571  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:57,571 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:57,571 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@35771602
2022-01-19 14:52:57,668 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,669 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,669 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,669 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:57,669 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,669 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,669 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,669 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:57,671  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:57,693 TRACE Hibernate Setup Complete.
2022-01-19 14:52:57,693 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:57,693 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,693 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,693 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,693 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,693 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,693 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,693 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,693 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,693 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,693 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,693 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,694 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,694 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:57,694 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,695 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,696 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7f558711
2022-01-19 14:52:57,697 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:57,697 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec2_.id as id1_0_0_, otherobjec2_.obj_name as obj_name2_0_0_, otherobjec2_.parent_id as parent_i3_0_0_, otherobjec1_.id as id1_2_1_, otherobjec1_.deprecated as deprecat2_2_1_, otherobjec1_.obj_name as obj_name3_2_1_, otherobjec1_.other_object_id as other_ob5_2_1_, otherobjec1_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec2_ on this_.other_object_id=otherobjec2_.id left outer join ParentEntity otherobjec1_ on otherobjec2_.parent_id=otherobjec1_.id left outer join ChildEntity childentit6_ on otherobjec1_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec1_.obj_name=? limit ?
2022-01-19 14:52:57,698 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@295c834b
2022-01-19 14:52:57,698  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:57,698 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:57,699 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5c92147c
2022-01-19 14:52:57,835 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,836 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,836 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,836 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:57,836 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,836 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,836 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,836 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:57,838  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:57,867 TRACE Hibernate Setup Complete.
2022-01-19 14:52:57,867 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:57,867 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,867 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,867 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,867 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,867 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,868 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,868 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,868 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,868 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,868 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,868 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,868 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,868 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:57,868 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,870 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:57,871 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@31b1a4e0
2022-01-19 14:52:57,872 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:57,872 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2022-01-19 14:52:57,874 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@20d9f6b8
2022-01-19 14:52:57,874  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:57,874 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:57,874 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2472a75c
2022-01-19 14:52:57,997 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:57,997 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:57,997 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:57,997 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:57,997 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:57,997 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:57,997 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:57,998 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:57,999  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:58,029 TRACE Hibernate Setup Complete.
2022-01-19 14:52:58,029 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:58,029 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,029 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,030 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,030 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,030 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,030 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,030 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,030 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,030 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,030 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,030 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,030 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,031 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:58,031 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,033 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,034 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@64ac6960
2022-01-19 14:52:58,035 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:58,035 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_4_, this_.deprecated as deprecat2_2_4_, this_.obj_name as obj_name3_2_4_, this_.other_object_id as other_ob5_2_4_, this_.someBytes as someByte4_2_4_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, otherobjec2_.id as id1_2_1_, otherobjec2_.deprecated as deprecat2_2_1_, otherobjec2_.obj_name as obj_name3_2_1_, otherobjec2_.other_object_id as other_ob5_2_1_, otherobjec2_.someBytes as someByte4_2_1_, childentit6_.id as id1_0_2_, childentit6_.obj_name as obj_name2_0_2_, childentit6_.parent_id as parent_i3_0_2_, parententi7_.id as id1_2_3_, parententi7_.deprecated as deprecat2_2_3_, parententi7_.obj_name as obj_name3_2_3_, parententi7_.other_object_id as other_ob5_2_3_, parententi7_.someBytes as someByte4_2_3_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity otherobjec2_ on otherobjec1_.parent_id=otherobjec2_.id left outer join ChildEntity childentit6_ on otherobjec2_.other_object_id=childentit6_.id left outer join ParentEntity parententi7_ on childentit6_.parent_id=parententi7_.id where otherobjec2_.obj_name=? limit ?
2022-01-19 14:52:58,036 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@44261d79
2022-01-19 14:52:58,036  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:58,037 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:58,037 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@508835bc
2022-01-19 14:52:58,155 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,155 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,155 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,155 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:58,155 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,155 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,155 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,156 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:58,158  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:58,184 TRACE Hibernate Setup Complete.
2022-01-19 14:52:58,184 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:58,184 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,184 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,184 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,184 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,184 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,184 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,184 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,184 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,184 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,184 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,184 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,184 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,185 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:58,185 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,186 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,187 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5c333991
2022-01-19 14:52:58,187 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:58,189 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@560e6cbe
2022-01-19 14:52:58,190 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:58,191 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@36aab341
2022-01-19 14:52:58,192 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:58,192 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id asc limit ?
2022-01-19 14:52:58,194 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@473f308d
2022-01-19 14:52:58,194  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:58,194 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:58,194 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@be67e29
2022-01-19 14:52:58,318 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,318 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,318 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,318 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:58,318 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,318 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,318 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,318 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:58,320  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:58,346 TRACE Hibernate Setup Complete.
2022-01-19 14:52:58,346 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:58,346 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,346 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,347 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,347 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,347 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,347 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,347 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,347 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,347 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,347 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,347 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,347 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,348 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:58,348 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,349 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,350 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6bc0b35c
2022-01-19 14:52:58,350 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getByUniqueProperty(java.lang.String,java.lang.Object)
2022-01-19 14:52:58,350 TRACE Joining existing transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:58,350 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_3_, this_.deprecated as deprecat2_2_3_, this_.obj_name as obj_name3_2_3_, this_.other_object_id as other_ob5_2_3_, this_.someBytes as someByte4_2_3_, otherobjec1_.id as id1_0_0_, otherobjec1_.obj_name as obj_name2_0_0_, otherobjec1_.parent_id as parent_i3_0_0_, parententi4_.id as id1_2_1_, parententi4_.deprecated as deprecat2_2_1_, parententi4_.obj_name as obj_name3_2_1_, parententi4_.other_object_id as other_ob5_2_1_, parententi4_.someBytes as someByte4_2_1_, childentit5_.id as id1_0_2_, childentit5_.obj_name as obj_name2_0_2_, childentit5_.parent_id as parent_i3_0_2_ from ParentEntity this_ left outer join ChildEntity otherobjec1_ on this_.other_object_id=otherobjec1_.id left outer join ParentEntity parententi4_ on otherobjec1_.parent_id=parententi4_.id left outer join ChildEntity childentit5_ on parententi4_.other_object_id=childentit5_.id where otherobjec1_.id=? limit ?
2022-01-19 14:52:58,351 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1f15bbb
2022-01-19 14:52:58,351  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:58,351 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:58,351 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@58304c4
2022-01-19 14:52:58,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:58,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,461 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,462 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:58,463  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:58,484 TRACE Hibernate Setup Complete.
2022-01-19 14:52:58,484 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:58,484 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,484 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,484 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,484 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,484 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,484 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,484 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,484 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,484 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,484 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,484 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,484 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,485 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:58,485 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,486 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,487 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@2cdaf44c
2022-01-19 14:52:58,487 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:58,487 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:58,488 DEBUG IllegalArgumentException causes rollback
2022-01-19 14:52:58,488  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:58,488 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:58,488 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3986b553
2022-01-19 14:52:58,581 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,581 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,581 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,581 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:58,581 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,581 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,581 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,582 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:58,583  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:58,601 TRACE Hibernate Setup Complete.
2022-01-19 14:52:58,601 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:58,601 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,602 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,602 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,602 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,602 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,602 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,602 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,602 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:58,602 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,603 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,604 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@59f91ee8
2022-01-19 14:52:58,604 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:58,605 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1f420cc9
2022-01-19 14:52:58,606 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into ParentEntity (id, deprecated, obj_name, other_object_id, someBytes) values (default, ?, ?, ?, ?)
2022-01-19 14:52:58,607 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@238aa1c0
2022-01-19 14:52:58,607 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:58,607 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id order by this_.id asc limit ?
2022-01-19 14:52:58,609 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@67488c90
2022-01-19 14:52:58,609  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:58,609 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:58,609 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5b09e4fa
2022-01-19 14:52:58,703 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,703 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,703 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,703 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:58,703 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,703 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,703 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,703 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:58,705  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table ChildEntity drop constraint FK_hhufve55bhx8xo47mb8po2jy3
Hibernate: alter table ParentEntity drop constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table ChildEntity if exists
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: drop table ParentEntity if exists
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: drop table mapped_superclass_test_entity if exists
Hibernate: create table ChildEntity (id bigint generated by default as identity (start with 1), obj_name varchar(255), parent_id bigint, primary key (id))
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
Hibernate: create table ParentEntity (id bigint generated by default as identity (start with 1), deprecated boolean, obj_name varchar(255), someBytes blob(255), other_object_id bigint, primary key (id))
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: create table mapped_superclass_test_entity (id bigint generated by default as identity (start with 1), created bigint, updated bigint, obj_name varchar(255), primary key (id))
Hibernate: alter table ChildEntity add constraint FK_hhufve55bhx8xo47mb8po2jy3 foreign key (parent_id) references ParentEntity
Hibernate: alter table ParentEntity add constraint FK_h2w6nvyfhgkhn0ufh1hox2ij6 foreign key (other_object_id) references ChildEntity
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:58,723 TRACE Hibernate Setup Complete.
2022-01-19 14:52:58,723 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.ChildEntity, com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity, com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.ParentEntity, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:58,723 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,723 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,724 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ParentEntity
2022-01-19 14:52:58,724 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.ChildEntity
2022-01-19 14:52:58,724 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,724 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.MappedSuperclassEntity
2022-01-19 14:52:58,724 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,724 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:58,724 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,724 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:58,724 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,724 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:58,724 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest.clearDatabaseBeforeTest()
2022-01-19 14:52:58,724 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,726 TRACE Joining existing transaction to call public java.util.List<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.getAll()
Hibernate: select this_.id as id1_2_2_, this_.deprecated as deprecat2_2_2_, this_.obj_name as obj_name3_2_2_, this_.other_object_id as other_ob5_2_2_, this_.someBytes as someByte4_2_2_, childentit2_.id as id1_0_0_, childentit2_.obj_name as obj_name2_0_0_, childentit2_.parent_id as parent_i3_0_0_, parententi3_.id as id1_2_1_, parententi3_.deprecated as deprecat2_2_1_, parententi3_.obj_name as obj_name3_2_1_, parententi3_.other_object_id as other_ob5_2_1_, parententi3_.someBytes as someByte4_2_1_ from ParentEntity this_ left outer join ChildEntity childentit2_ on this_.other_object_id=childentit2_.id left outer join ParentEntity parententi3_ on childentit2_.parent_id=parententi3_.id
2022-01-19 14:52:58,726 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@c211faa
2022-01-19 14:52:58,728 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:58,728 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_6_0_, this_.created as created2_6_0_, this_.updated as updated3_6_0_, this_.obj_name as obj_name4_6_0_ from mapped_superclass_test_entity this_ where this_.id=? and this_.obj_name<>? and this_.created<? limit ?
2022-01-19 14:52:58,733 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@713932bb
2022-01-19 14:52:58,733  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:58,734 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:58,734 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@64099331
Tests run: 19, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.122 sec - in com.peterphi.std.guice.hibernate.webquery.DynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.299 sec - in com.peterphi.std.guice.hibernate.webquery.WebQueryTest
Running com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
2022-01-19 14:52:59,130 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:59,130 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:59,130 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:59,131 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:59,132  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:59,142 TRACE Hibernate Setup Complete.
2022-01-19 14:52:59,142 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:59,142 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:59,142 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:59,142 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:59,142 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:59,142 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2022-01-19 14:52:59,143 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@4e5ac029
2022-01-19 14:52:59,143 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2022-01-19 14:52:59,144 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@13d50250
2022-01-19 14:52:59,144 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:59,145 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:59,145 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:59,145 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
Hibernate: select this_.id as id1_0_0_, case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end as clazz_0_ from inherit_base this_ left outer join inherit_two this_1_ on this_.id=this_1_.id left outer join inherit_one this_2_ on this_.id=this_2_.id where case when this_1_.id is not null then 1 when this_2_.id is not null then 2 when this_.id is not null then 0 end=? and (this_.id=? or this_.id=?) limit ?
2022-01-19 14:52:59,148 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@46a6dfd4
2022-01-19 14:52:59,148  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:59,148 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:59,148 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@278e9ffa
2022-01-19 14:52:59,233 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:59,233 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:59,233 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject
2022-01-19 14:52:59,233 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:59,235  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: alter table inherit_one drop constraint FK_rj95ectoflnq7yysmh5acc1fd
Hibernate: alter table inherit_two drop constraint FK_96lyw167esb0q73ui817jv2ld
Hibernate: drop table inherit_base if exists
Hibernate: drop table inherit_one if exists
Hibernate: drop table inherit_two if exists
Hibernate: create table inherit_base (id bigint generated by default as identity (start with 1), primary key (id))
Hibernate: create table inherit_one (id bigint not null, primary key (id))
Hibernate: create table inherit_two (id bigint not null, primary key (id))
Hibernate: alter table inherit_one add constraint FK_rj95ectoflnq7yysmh5acc1fd foreign key (id) references inherit_base
Hibernate: alter table inherit_two add constraint FK_96lyw167esb0q73ui817jv2ld foreign key (id) references inherit_base
2022-01-19 14:52:59,244 TRACE Hibernate Setup Complete.
2022-01-19 14:52:59,244 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2, com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyBaseObject]
2022-01-19 14:52:59,244 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:59,244 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject1
2022-01-19 14:52:59,244 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:59,244 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.discriminatortest.MyChildObject2
2022-01-19 14:52:59,244 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_one (id) values (?)
2022-01-19 14:52:59,245 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@61a045c5
2022-01-19 14:52:59,245 TRACE Creating new transaction to call public ID com.peterphi.std.guice.hibernate.dao.HibernateDao.save(T)
Hibernate: insert into inherit_base (id) values (default)
Hibernate: insert into inherit_two (id) values (?)
2022-01-19 14:52:59,246 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@70bf2681
2022-01-19 14:52:59,246 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_two mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_one mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2022-01-19 14:52:59,247 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1c24ca3b
2022-01-19 14:52:59,247 TRACE Creating new transaction to call public T com.peterphi.std.guice.hibernate.dao.HibernateDao.getById(ID)
Hibernate: select mybaseobje0_.id as id1_0_0_, case when mybaseobje0_1_.id is not null then 1 when mybaseobje0_2_.id is not null then 2 when mybaseobje0_.id is not null then 0 end as clazz_0_ from inherit_base mybaseobje0_ left outer join inherit_two mybaseobje0_1_ on mybaseobje0_.id=mybaseobje0_1_.id left outer join inherit_one mybaseobje0_2_ on mybaseobje0_.id=mybaseobje0_2_.id where mybaseobje0_.id=?
2022-01-19 14:52:59,247 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@6f32039f
2022-01-19 14:52:59,248  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:59,248 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:59,248 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@717f5168
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.211 sec - in com.peterphi.std.guice.hibernate.webquery.discriminatortest.DiscriminatorDynamicQueryTest
Running com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
2022-01-19 14:52:59,340 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:59,340 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:59,342  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2022-01-19 14:52:59,349 TRACE Hibernate Setup Complete.
2022-01-19 14:52:59,349 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2022-01-19 14:52:59,349 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:59,349 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:59,350 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:59,350 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.id=? and this_.timestamp=? limit ?
2022-01-19 14:52:59,351 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@1bcbf80a
2022-01-19 14:52:59,351  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:59,351 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:59,351 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7396cf29
2022-01-19 14:52:59,436 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:59,436 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:59,438  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2022-01-19 14:52:59,445 TRACE Hibernate Setup Complete.
2022-01-19 14:52:59,445 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2022-01-19 14:52:59,446 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:59,446 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:59,446 TRACE Creating new transaction to call public com.peterphi.std.guice.hibernate.webquery.ConstrainedResultSet<T> com.peterphi.std.guice.hibernate.dao.HibernateDao.findByUriQuery(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
2022-01-19 14:52:59,446 TRACE Joining existing transaction to call protected org.hibernate.Criteria com.peterphi.std.guice.hibernate.dao.HibernateDao.createCriteria(com.peterphi.std.guice.restclient.jaxb.webquery.WebQuery)
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=? limit ?
2022-01-19 14:52:59,447 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@3931325f
2022-01-19 14:52:59,447  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:59,448 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:59,448 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@5b1b01e6
2022-01-19 14:52:59,534 TRACE Registering @Entity class with hibernate: com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:59,534 TRACE Evaluate HibernateConfigurationValidators. has at least one=false
2022-01-19 14:52:59,536  WARN HHH000402: Using Hibernate built-in connection pool (not for production use!)
Hibernate: drop table EmbeddedPkEntity if exists
Hibernate: create table EmbeddedPkEntity (id varchar(255) not null, timestamp bigint not null, some_name varchar(255), primary key (id, timestamp))
2022-01-19 14:52:59,543 TRACE Hibernate Setup Complete.
2022-01-19 14:52:59,543 DEBUG Known entities: [com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity]
2022-01-19 14:52:59,543 DEBUG Begin create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:59,543 DEBUG End create QEntity class com.peterphi.std.guice.hibernate.webquery.embeddedpktest.EmbeddedPkEntity
2022-01-19 14:52:59,544 TRACE Creating new transaction to call public void com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest.testCriteriaByTimestamp()
Hibernate: select this_.id as id1_0_0_, this_.timestamp as timestam2_0_0_, this_.some_name as some_nam3_0_0_ from EmbeddedPkEntity this_ where this_.timestamp=?
2022-01-19 14:52:59,545 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@7571f195
2022-01-19 14:52:59,546  INFO Shut down Hibernate SessionFactory...
2022-01-19 14:52:59,546 TRACE Creating new transaction to call void com.peterphi.std.guice.hibernate.module.HibernateSessionFactoryProvider.runShutDownSQL()
2022-01-19 14:52:59,546 TRACE Complete org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction@78567c2c
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.296 sec - in com.peterphi.std.guice.hibernate.webquery.embeddedpktest.DynamicQueryEmbeddedPkTest
Running com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 sec - in com.peterphi.std.guice.hibernate.webquery.impl.QTypeHelperTest
Running com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.peterphi.std.guice.hibernate.webquery.impl.functions.BetweenTest

Results :

Failed tests: 
  LargeTableQueryTest.testSearchWorksWithOrder:66 expected:<[Carol]> but was:<[Alice]>

Tests run: 57, Failures: 1, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] application framework parent ....................... SUCCESS [  0.437 s]
[INFO] stdlib ............................................. SUCCESS [ 10.698 s]
[INFO] application framework guice modules parent ......... SUCCESS [  0.035 s]
[INFO] stdlib guice common ................................ SUCCESS [ 16.991 s]
[INFO] user-manager ....................................... SUCCESS [  0.010 s]
[INFO] user manager rest api .............................. SUCCESS [  0.043 s]
[INFO] stdlib guice webapp ................................ SUCCESS [  3.138 s]
[INFO] stdlib guice metrics ............................... SUCCESS [  0.060 s]
[INFO] stdlib guice freemarker webapp ..................... SUCCESS [  0.034 s]
[INFO] stdlib guice testing support ....................... SUCCESS [  3.227 s]
[INFO] stdlib guice hibernate ............................. FAILURE [ 21.114 s]
[INFO] stdlib guice hibernate testing support ............. SKIPPED
[INFO] stdlib guice liquibase support ..................... SKIPPED
[INFO] carbon client ...................................... SKIPPED
[INFO] service-manager .................................... SKIPPED
[INFO] Configuration Service .............................. SKIPPED
[INFO] Service Manager API ................................ SKIPPED
[INFO] stdlib-rules ....................................... SKIPPED
[INFO] stdlib-azure ....................................... SKIPPED
[INFO] Service Manager Main ............................... SKIPPED
[INFO] Host Agent ......................................... SKIPPED
[INFO] user manager service ............................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 56.589 s
[INFO] Finished at: 2022-01-19T14:52:59+00:00
[INFO] Final Memory: 18M/491M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19:test (default-test) on project stdlib-guice-hibernate: There are test failures.
[ERROR] 
[ERROR] Please refer to /home/travis/build/failed/petergeneric/stdlib/guice/hibernate/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :stdlib-guice-hibernate

travis_time:end:1e15b8b0:start=1642603922296269758,finish=1642603980094520908,duration=57798251150[0K
[31;1mThe command "mvn test -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -B" exited with 1.[0m
travis_fold:start:before_cache[0Ktravis_time:start:0c8545a4[0K$ rm -f $HOME/.m2/repository/com/peterphi
rm: cannot remove `/home/travis/.m2/repository/com/peterphi': Is a directory

travis_time:end:0c8545a4:start=1642603980106184957,finish=1642603980115459315,duration=9274358[0Ktravis_fold:end:before_cache[0Ktravis_fold:start:cache.2[0Kstore build cache
travis_time:start:08f0b42b[0K
travis_time:end:08f0b42b:start=1642603980126467750,finish=1642603980135988563,duration=9520813[0Ktravis_time:start:10261d24[0K/home/travis/.casher/bin/casher:190: warning: Insecure world writable dir /home/travis/build/failed/petergeneric/stdlib/. in PATH, mode 040777
[32;1mchanges detected, packing new archive[0m
/home/travis/.casher/bin/casher:213:in `cache_archive_name': undefined method `[]' for nil:NilClass (NoMethodError)
	from /home/travis/.casher/bin/casher:143:in `push'
	from /home/travis/.casher/bin/casher:53:in `block in run'
	from /home/travis/.rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/timeout.rb:69:in `timeout'
	from /home/travis/.casher/bin/casher:53:in `run'
	from /home/travis/.casher/bin/casher:263:in `<main>'
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

travis_time:end:10261d24:start=1642603980147122764,finish=1642604080924265426,duration=100777142662[0Ktravis_fold:end:cache.2[0K
Done. Your build exited with 1.
